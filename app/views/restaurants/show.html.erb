<h1><%= @restaurant.name %></h1>

<ul>
  <li>
    <%= @restaurant.address %>
  </li>
  <li>
    <%= @restaurant.city %>
    <%= @restaurant.state %>
    <%= @restaurant.zip_code %>
  </li>
</ul>

<% if current_user %>
  <p><%= link_to "Edit Restaurant", edit_restaurant_path(@restaurant) %></p>

  <p><%= button_to "Delete", @restaurant, method: :delete, data:
  {confirm: "Are you sure you want to delete this restaurant?"}%></p>
<% end %>
<br>
<br>
<div>
  <h2>Reviews:</h2>
  <br>
  <% unless @restaurant.reviews.empty? %>
    <% @restaurant.reviews.each do |review| %>
      <table>
        <tr>
          <td>
            <h4>
              <%= review.user.username.capitalize %>
            </h4>
          </td>
          <% if current_user == review.user %>
            <td><%= link_to "Edit Review", edit_review_path(review) %></td>
          <% end %>
        </tr>
        <tr>
          <td>Ratings</td>
          <td>Comments</td>
        </tr>
        <tr>
          <td>
            <ul>
              <li>Value: <%= review.value %></li>
              <li>Proximity: <%= review.proximity %></li>
              <li>Volume: <%= review.volume %></li>
              <li>Originality: <%= review.originality %></li>
            </ul>
          </td>
          <td><%= review.body %></td>
        </tr>
      </table>
    <% end %>
  <% end %>
</div>

<% if current_user %>
  <div>
    <%= form_for [ @restaurant, @review ] do |f| %>
      <%= f.label "value" %>
      <%= f.select :value, Review::VALUES, :include_blank => true %>

      <%= f.label "proximity" %>
      <%= f.select :proximity, Review::PROXIMITY, :include_blank => true %>

      <%= f.label "volume" %>
      <%= f.select :volume, Review::VOLUME, :include_blank => true %>

      <%= f.label "originality" %>
      <%= f.select :originality, Review::ORIGINALITY, :include_blank => true %>

      <%= f.label "body" %>
      <%= f.text_area :body %>

      <%= f.submit "Submit" %>
    <% end %>
  </div>
<% end %>
<p class="text-center"><%= link_to "Home", restaurants_path %></p>
